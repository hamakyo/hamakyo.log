---
title: "L2とL3の違い"
pubDate: "2025-08-30"
updatedDate: "2025-08-30"
---

# L2 と L3 の違い

ネットワーク設計や障害対応において、L2 と L3 の違いを正確に理解することは非常に重要だ。特にインフラエンジニアやネットワーク運用に関わるエンジニアにとって、この基礎知識は日常業務で頻繁に使われる。

## OSI 参照モデルにおける位置づけ

OSI 参照モデルは 7 層で構成されており、L2 と L3 はそれぞれ異なる役割を担っている。

- **L1（物理層）**: ケーブル、光ファイバーなどの物理的な接続
- **L2（データリンク層）**: 同一ネットワーク内でのデータ伝送
- **L3（ネットワーク層）**: 異なるネットワーク間のルーティング
- **L4（トランスポート層）**: TCP/UDP による信頼性のある通信
- 以下省略

## L2（データリンク層）の特徴

### 通信範囲

同一ネットワーク（LAN セグメント）内のみでの通信が可能。物理的に同じスイッチに接続された機器同士が対象となる。

### 使用するアドレス

MAC アドレス（Media Access Control Address）を使用する。48 ビットの一意な識別子で、ネットワークカードに物理的に割り当てられている。

```text
例：AA:BB:CC:DD:EE:FF

```

### 主な機能

- フレームの送受信
- エラー検出
- フロー制御
- スイッチングによる効率的なデータ転送

### 代表的な機器

- L2 スイッチ（スイッチングハブ）
- ブリッジ
- 無線 LAN アクセスポイント

## L3（ネットワーク層）の特徴

### 通信範囲

異なるネットワーク間での通信が可能。インターネット経由での通信も L3 の機能だ。

### 使用するアドレス

IP アドレスを使用する。論理的なアドレスで、ネットワーク管理者が設定する。

```plain text
IPv4例：192.168.1.100
IPv6例：2001:db8::1

```

### 主な機能

- ルーティング（最適な経路の選択）
- パケットの転送
- ネットワーク間の接続
- TTL（Time To Live）による無限ループの防止

### 代表的な機器

- ルーター
- L3 スイッチ
- ファイアウォール

## 実際の通信フローでの違い

### 同一ネットワーク内の通信（L2）

```plain text
PC-A（192.168.1.10） → PC-B（192.168.1.20）

```

1. PC-A が PC-B の MAC アドレスを ARP（Address Resolution Protocol）で確認
2. MAC アドレスを使って L2 スイッチ経由で直接通信
3. ルーターは経由しない

### 異なるネットワーク間の通信（L3）

```plain text
PC-A（192.168.1.10） → Webサーバー（203.0.113.50）

```

1. PC-A がデフォルトゲートウェイ（ルーター）にパケットを送信
2. ルーターがルーティングテーブルを参照して最適な経路を選択
3. 複数のルーターを経由して Web サーバーに到達

## L2 と L3 の比較表

| 項目         | L2（データリンク層）  | L3（ネットワーク層）  |
| ------------ | --------------------- | --------------------- |
| 通信範囲     | 同一ネットワーク内    | 異なるネットワーク間  |
| 使用アドレス | MAC アドレス          | IP アドレス           |
| 主な機器     | L2 スイッチ、ブリッジ | ルーター、L3 スイッチ |
| プロトコル   | Ethernet、Wi-Fi       | IP、ICMP              |
| 経路制御     | なし                  | ルーティング          |

## 実務での活用場面

### ネットワーク設計時

- **L2 設計**: VLAN 設計、スイッチの選定
- **L3 設計**: IP アドレス設計、ルーティング設計

### 障害対応時

- **L2 障害**: スイッチポートの状態確認、MAC アドレステーブルの確認
- **L3 障害**: ルーティングテーブルの確認、ping による疎通確認

### セキュリティ設計時

- **L2 セキュリティ**: ポートセキュリティ、MAC 認証
- **L3 セキュリティ**: ファイアウォール、ACL（Access Control List）

## トラブルシューティングでの応用

### L2 レベルの確認コマンド

```bash
# MACアドレステーブルの確認
show mac address-table

# スイッチポートの状態確認
show interface status

```

### L3 レベルの確認コマンド

```bash
# ルーティングテーブルの確認
show ip route

# 疎通確認
ping 192.168.1.1

# 経路確認
traceroute 8.8.8.8

```

## L2 と L3 の連携

実際のネットワークでは、L2 と L3 は連携して動作する。例えば、異なるネットワークにアクセスする際：

1. **L3**: IP アドレスを元にルーティング決定
2. **L2**: 次のホップ（ルーター）の MAC アドレスを解決
3. **L3**: パケットをルーターに転送
4. ルーターで再度 L3 処理（ルーティング）を実行

この連携を理解することで、より深いネットワーク設計と障害対応が可能になる。

## まとめ

L2 と L3 の違いは、通信範囲と使用するアドレス体系に集約される。L2 は同一ネットワーク内での効率的な通信を、L3 は異なるネットワーク間の接続を担っている。

実務では両方の知識が必要になることが多く、特にクラウド環境でのネットワーク設計では、この基礎理解が設計品質に直結する。
