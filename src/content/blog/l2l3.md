---
title: "L2とL3の違い"
pubDate: "2025-08-30"
updatedDate: "2025-08-30"
---
# L2とL3の違い

ネットワーク設計や障害対応において、L2とL3の違いを正確に理解することは非常に重要だ。特にインフラエンジニアやネットワーク運用に関わるエンジニアにとって、この基礎知識は日常業務で頻繁に使われる。

## OSI参照モデルにおける位置づけ

OSI参照モデルは7層で構成されており、L2とL3はそれぞれ異なる役割を担っている。

- **L1（物理層）**: ケーブル、光ファイバーなどの物理的な接続
- **L2（データリンク層）**: 同一ネットワーク内でのデータ伝送
- **L3（ネットワーク層）**: 異なるネットワーク間のルーティング
- **L4（トランスポート層）**: TCP/UDPによる信頼性のある通信
- 以下省略

## L2（データリンク層）の特徴

### 通信範囲

同一ネットワーク（LANセグメント）内のみでの通信が可能。物理的に同じスイッチに接続された機器同士が対象となる。

### 使用するアドレス

MACアドレス（Media Access Control Address）を使用する。48ビットの一意な識別子で、ネットワークカードに物理的に割り当てられている。

```plain text
例：AA:BB:CC:DD:EE:FF

```

### 主な機能

- フレームの送受信
- エラー検出
- フロー制御
- スイッチングによる効率的なデータ転送

### 代表的な機器

- L2スイッチ（スイッチングハブ）
- ブリッジ
- 無線LANアクセスポイント

## L3（ネットワーク層）の特徴

### 通信範囲

異なるネットワーク間での通信が可能。インターネット経由での通信もL3の機能だ。

### 使用するアドレス

IPアドレスを使用する。論理的なアドレスで、ネットワーク管理者が設定する。

```plain text
IPv4例：192.168.1.100
IPv6例：2001:db8::1

```

### 主な機能

- ルーティング（最適な経路の選択）
- パケットの転送
- ネットワーク間の接続
- TTL（Time To Live）による無限ループの防止

### 代表的な機器

- ルーター
- L3スイッチ
- ファイアウォール

## 実際の通信フローでの違い

### 同一ネットワーク内の通信（L2）

```plain text
PC-A（192.168.1.10） → PC-B（192.168.1.20）

```

1. PC-AがPC-BのMACアドレスをARP（Address Resolution Protocol）で確認
2. MACアドレスを使ってL2スイッチ経由で直接通信
3. ルーターは経由しない

### 異なるネットワーク間の通信（L3）

```plain text
PC-A（192.168.1.10） → Webサーバー（203.0.113.50）

```

1. PC-Aがデフォルトゲートウェイ（ルーター）にパケットを送信
2. ルーターがルーティングテーブルを参照して最適な経路を選択
3. 複数のルーターを経由してWebサーバーに到達

## L2とL3の比較表

| 項目     | L2（データリンク層）    | L3（ネットワーク層） |
| ------ | -------------- | ----------- |
| 通信範囲   | 同一ネットワーク内      | 異なるネットワーク間  |
| 使用アドレス | MACアドレス        | IPアドレス      |
| 主な機器   | L2スイッチ、ブリッジ    | ルーター、L3スイッチ |
| プロトコル  | Ethernet、Wi-Fi | IP、ICMP     |
| 経路制御   | なし             | ルーティング      |

## 実務での活用場面

### ネットワーク設計時

- **L2設計**: VLAN設計、スイッチの選定
- **L3設計**: IPアドレス設計、ルーティング設計

### 障害対応時

- **L2障害**: スイッチポートの状態確認、MACアドレステーブルの確認
- **L3障害**: ルーティングテーブルの確認、pingによる疎通確認

### セキュリティ設計時

- **L2セキュリティ**: ポートセキュリティ、MAC認証
- **L3セキュリティ**: ファイアウォール、ACL（Access Control List）

## トラブルシューティングでの応用

### L2レベルの確認コマンド

```bash
# MACアドレステーブルの確認
show mac address-table

# スイッチポートの状態確認
show interface status

```

### L3レベルの確認コマンド

```bash
# ルーティングテーブルの確認
show ip route

# 疎通確認
ping 192.168.1.1

# 経路確認
traceroute 8.8.8.8

```

## L2とL3の連携

実際のネットワークでは、L2とL3は連携して動作する。例えば、異なるネットワークにアクセスする際：

1. **L3**: IPアドレスを元にルーティング決定
2. **L2**: 次のホップ（ルーター）のMACアドレスを解決
3. **L3**: パケットをルーターに転送
4. ルーターで再度L3処理（ルーティング）を実行

この連携を理解することで、より深いネットワーク設計と障害対応が可能になる。

## まとめ

L2とL3の違いは、通信範囲と使用するアドレス体系に集約される。L2は同一ネットワーク内での効率的な通信を、L3は異なるネットワーク間の接続を担っている。

実務では両方の知識が必要になることが多く、特にクラウド環境でのネットワーク設計では、この基礎理解が設計品質に直結する。